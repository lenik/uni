BODZ | S-FIA & TC
Dir-T|Note                                                  http://tc.bodz.net
Snima Denik Personal                                            denik@bodz.net

NOTES FOR SPEED                                 STATUS Draft   SERIAL NFS00236

   TITLE  MisBook #1
KEYWORDS  ____________________________________________________________________


> support

    1，orm xml, orm generator from db; misbook-orm.xml -> misbook/orm/*.php
        orm
        跨语言的“标准SQL词汇"，例如像freejava/doa中的一致接口，或者类似zlw-af
        中的af-type实现。这包括：
            类型，“标准sql类型”的各种层面设计：
                字面量解释
                dialect转义？

        mysql -> orm 简易转换，将 misbook 的数据库内容转换至 orm xml，
        这一转换的主要目的是将 ddl 生成相应的 orm 类模型。
        为什么不先写 orm xml，然后再转换至 ddl 呢？因为编辑xml还是比较麻烦，
        等以后用 6-orm 再重新设计吧。

    2，af-model review
        要包括全部吗？
        因为 xml 不是html，必须格式完整才能处理、执行xslt，因此没必要以流的形
        式输出。大的页面则可以直接输出 html。
        （？或者以后考虑流是xml的xslt处理）
        新的af-model应该更直观，更容易使用。用zend应可以列出上下文。

    3，submit-once problem 的解决
        插入隐含input，当form submit时传输所有input至hidden，
        然后 disable 所有 input。
        （仅当 af:form 中指定了 submit="once" 时）

    4，misbook 配色方案，总体页面布局
        xslt style 与 preference 的关系与实现
        af-model 中可以改变 xslt 关联，形成多级默认格局。
        “多级默认格局”的实现？


> modules

    1，快速命令（使用 EAN-8/EAN-13）前缀
        （使用 pagetrks，\d+ \t，\t 触发）
            0   会员号
            1   操作员号   （保留）
            2   定价标签
            3   订单号     （mb_list，通过查询确定订单类型）
            978 图书

        mb_shortcuts
            name    '会员购书'
            prefix  '0'
            mod     'order.php?code=$'
            shift   1       (don't send prefix '0')

    2，会员管理
        添加会员，会员注册信息
        删除会员
        会员订单列表
            mb_user_owned_list(uid, list)
        会员等级
        等级折扣换算
            mb_rank_discount(rank, discount)

    3，图书库存管理
        添加图书，图书资料录入
        删除图书
        图书查找
            组合查询
