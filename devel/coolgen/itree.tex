\begin{tikzpicture}[
    scale=\filetreescale,
    every node/.style={transform shape},
    grow via three points={one child at (0.5,-0.7) and
      two children at (0.5,-0.7) and (0.5,-1.4)},
    edge from parent path={(\tikzparentnode.south) |- (\tikzchildnode.west)}]
\path node[dir] {\emph{«setupdir»}}
    child{
        node[dir] {usr\fileflag{/}}
        child{
            node[dir] {local\fileflag{/}}
            child{
                node[dir] {bin\fileflag{/}}
                child{ node[executable] {new\fileflag{*}} }
                child{ node[symlink, executable] {new-bash\fileflag{*}} child[->, parallel] { node[annotation] { /usr/local/bin/new } } }
                child{ node[symlink, executable] {new-cprog\fileflag{*}} child[->, parallel] { node[annotation] { /usr/local/bin/new } } }
                child{ node[symlink, executable] {new-dprog\fileflag{*}} child[->, parallel] { node[annotation] { /usr/local/bin/new } } }
                child{ node[symlink, executable] {new-man\fileflag{*}} child[->, parallel] { node[annotation] { /usr/local/bin/new } } }
                child{ node[symlink, executable] {new-perl\fileflag{*}} child[->, parallel] { node[annotation] { /usr/local/bin/new } } }
                child{ node[symlink, executable] {new-perllib\fileflag{*}} child[->, parallel] { node[annotation] { /usr/local/bin/new } } }
                child{ node[executable] {rnd\fileflag{*}} }
            }
            child[missing] {}
            child[missing] {}
            child[missing] {}
            child[missing] {}
            child[missing] {}
            child[missing] {}
            child[missing] {}
            child[missing] {}
            child{
                node[dir] {include\fileflag{/}}
                child{ node[plain] {cprog.h} }
            }
            child[missing] {}
            child{
                node[dir] {lib\fileflag{/}}
                child{
                    node[dir] {newtmpl.d\fileflag{/}}
                    child{ node[executable] {bash.sh\fileflag{*}} }
                    child{ node[plain] {cprog.c} }
                    child{ node[executable] {dprog.d\fileflag{*}} }
                    child{ node[plain] {man.rst} }
                    child{ node[executable] {perl.pl\fileflag{*}} }
                    child{ node[plain] {perllib.pm} }
                }
            }
            child[missing] {}
            child[missing] {}
            child[missing] {}
            child[missing] {}
            child[missing] {}
            child[missing] {}
            child[missing] {}
            child{
                node[dir] {share\fileflag{/}}
                child{
                    node[dir] {man\fileflag{/}}
                    child{
                        node[dir] {man1\fileflag{/}}
                        child{ node[plain] {new.1} }
                    }
                }
            }
        }
    };
\end{tikzpicture}
