\begin{tikzpicture}[
    scale=\filetreescale,
    every node/.style={transform shape},
    grow via three points={one child at (0.5,-0.7) and
      two children at (0.5,-0.7) and (0.5,-1.4)},
    edge from parent path={(\tikzparentnode.south) |- (\tikzchildnode.west)}]
    \path node[dir] {\emph{«setupdir»}}
    child{
        node[dir] {etc\fileflag{/}}
        child{
            node[dir] {bash\_aliases.d\fileflag{/}}
            child{ node[executable] {coolcmd.sh\fileflag{*}} }
        }
    }
    child[missing] {}
    child[missing] {}
    child{
        node[dir] {usr\fileflag{/}}
        child{
            node[dir] {bin\fileflag{/}}
            child{ node[executable] {cd-exec\fileflag{*}} }
            child{ node[executable] {colorox\fileflag{*}} }
            child{ node[executable] {eachdir\fileflag{*}} }
            child{ node[executable] {echo-x\fileflag{*}} }
            child{ node[executable] {esti-exec\fileflag{*}} }
            child{ node[executable] {ifrsubst\fileflag{*}} }
            child{ node[executable] {ldd-which\fileflag{*}} }
            child{ node[executable] {localhost\fileflag{*}} }
            child{ node[executable] {loop\fileflag{*}} }
            child{ node[executable] {make1\fileflag{*}} }
            child{ node[executable] {makeoutdated\fileflag{*}} }
            child{ node[executable] {onchange\fileflag{*}} }
            child{ node[executable] {postproc\fileflag{*}} }
            child{ node[executable] {repeat\fileflag{*}} }
            child{ node[executable] {rsexec\fileflag{*}} }
            child{ node[executable] {rsexec-c\fileflag{*}} }
            child{ node[executable] {rsubstcat\fileflag{*}} }
            child{ node[executable] {rsubstecho\fileflag{*}} }
            child{ node[executable] {run-bg\fileflag{*}} }
            child{ node[executable] {subst\fileflag{*}} }
            child{ node[executable] {substcat\fileflag{*}} }
            child{ node[executable] {substecho\fileflag{*}} }
            child{ node[executable] {substexec\fileflag{*}} }
            child{ node[executable] {substtree\fileflag{*}} }
            child{ node[executable] {swapox\fileflag{*}} }
            child{ node[executable] {testox\fileflag{*}} }
            child{ node[executable] {until-changed\fileflag{*}} }
            child{ node[executable] {xcat\fileflag{*}} }
            child{ node[executable] {xless\fileflag{*}} }
            child{ node[executable] {xmore\_\fileflag{*}} }
            child{ node[executable] {xxcat\fileflag{*}} }
            child{ node[executable] {xxless\fileflag{*}} }
            child{ node[executable] {xxmore\fileflag{*}} }
            child{ node[executable] {xxxcat\fileflag{*}} }
            child{ node[executable] {xxxless\fileflag{*}} }
            child{ node[executable] {xxxmore\fileflag{*}} }
            child{ node[executable] {xxxxcat\fileflag{*}} }
            child{ node[executable] {xxxxless\fileflag{*}} }
            child{ node[executable] {xxxxmore\fileflag{*}} }
        }
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child[missing] {}
        child{
            node[dir] {share\fileflag{/}}
            child{
                node[dir] {perl5\fileflag{/}}
                child{
                    node[dir] {cmt\fileflag{/}}
                    child{ node[plain] {subst.pm} }
                }
            }
            child[missing] {}
            child[missing] {}
            child{
                node[dir] {setup\fileflag{/}}
                child{
                    node[dir] {coolcmd\fileflag{/}}
                    child{ node[executable] {postinst\fileflag{*}} }
                    child{ node[executable] {prerm\fileflag{*}} }
                }
            }
        }
    };
\end{tikzpicture}
