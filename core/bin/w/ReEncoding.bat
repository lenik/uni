@echo off

    rem Generated by GenerateBatches 0.null  Last updated: null

:check_os
    if "%OS%"=="" goto check_cmd
    if "%OS%"=="Windows_NT" goto check_cmd
    echo The operating system isn't supported: %OS%
    exit /b 1

:check_cmd
    verify other 2>nul
    setlocal enableextensions
    if not errorlevel 1 goto boot
    echo The cmd extensions isn't supported.
    echo Maybe your windows version is too old.
    exit /b 1

:check_more

:boot
    setlocal
    set _nam=net.bodz.lapiota.programs.ReEncoding
    set _namf=%_nam:.=\%
    set _ext=
    set JAVAFLAGS=-ea -DGenerateBatches=1
    if not "%JAVA_HOME%"=="" set PATH=%JAVA_HOME%\bin;%PATH%

:find_target
    for %%f in (%_namf%.class setcp.bat) do (
        if exist "%%~f" (
            set _dir=
            goto find_shell
        )
        if exist "..\%%~f" (
            set _dir=..\
            goto find_shell
        )
        set _dir=%%~dp$PATH:f
        if exist "!_dir!%%~f" (
            goto find_shell
        )
    )
    rem echo Can't find the target program %_nam%.
    rem exit /b 1

:find_shell
    if "%_shell%"=="" (
        rem CMDCMDLINE doesn't work, this is a Windows' BUG.
        for %%a in (%COMSPEC%) do (
            for %%c in (%%a) do (
                set _shell=%%~nc
                goto start_mode
            )
        )
    )
    set _shell=cmd

:start_mode
    set _args=%*
    set _look=3
:next_arg
    if %_look% leq 3 goto bycmd
    if "%~1"=="" goto bycmd
    if "%~1"=="-v" goto start
    set _1=%~1
    if "%_1:~0,6%"=="--verb" goto start
    shift
    set /a _look = _look - 1
    goto next_arg

:bycmd
    if exist "%_dir%setcp.bat" (
        call "%_dir%setcp.bat"
    )

    if not "%_dir%"=="" (
        set CLASSPATH=%CLASSPATH%;%_dir:\=/%
    )

    if "%_shell%"=="cmdw" goto startw
    if "%_shell%"=="CMDW" goto startw
    goto start

:start
    if "%JAVA%"=="" set JAVA=java
    "%JAVA%" %JAVAFLAGS% %_nam% %_args%
    goto end

:startw
    if "%JAVAW%"=="" set JAVAW=javaw
    "%JAVAW%" %JAVAFLAGS% %_nam% %_args%
    goto end

:end
